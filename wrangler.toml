name = "setupmanagertest"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]

# Static assets (Vite build output)
[assets]
directory = "./dist"

# Durable Objects for real-time WebSocket
[[durable_objects.bindings]]
name = "DASHBOARD_ROOM"
class_name = "DashboardRoom"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["DashboardRoom"]

# KV for event persistence
# ⚠️  REQUIRED: Create your KV namespace and add the ID here
# Run: npx wrangler kv namespace create WEBHOOKS
# Then paste the ID below
[[kv_namespaces]]
binding = "WEBHOOKS"
id = "a1faa7659d8c4333945d91dda0584444"
# Uncomment for local dev with a separate preview namespace:
# preview_id = ""
